<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blacklist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <style>
        body {
            background: transparent;
            -webkit-app-region: no-drag;
            margin: 0;
            overflow: hidden;
        }

        .glass {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .drag-region {
            -webkit-app-region: drag;
        }

        .no-drag {
            -webkit-app-region: no-drag;
        }
    </style>
</head>

<body>
    <div class="glass rounded-xl shadow-2xl overflow-hidden">
        <div class="drag-region p-2 border-b border-white/10 flex justify-between items-center cursor-move">
            <span class="text-red-400 text-xs font-bold">üö´ Blacklist</span>
            <button onclick="window.panelAPI.close('blacklist')"
                class="no-drag text-slate-400 hover:text-red-400 text-xs">‚úï</button>
        </div>
        <div class="p-2">
            <div id="blacklist-content" class="text-xs text-slate-400 max-h-[120px] overflow-y-auto">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
            <div class="border-t border-white/10 pt-2 mt-2">
                <button onclick="copyCmd(this, '/me ‡πÄ‡∏ä‡πá‡∏Ñ Blacklist')"
                    class="no-drag w-full text-left px-2 py-1 bg-red-900/30 hover:bg-red-900/50 rounded text-xs text-red-300">üìã
                    /me ‡πÄ‡∏ä‡πá‡∏Ñ Blacklist</button>
            </div>
        </div>
    </div>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCPnd6bmpPe0cbWXbNh2LsYaeGcFHZNNsU",
            authDomain: "medic-op.firebaseapp.com",
            projectId: "medic-op",
            storageBucket: "medic-op.firebasestorage.app",
            messagingSenderId: "628357107384",
            appId: "1:628357107384:web:3050de54d5a84d10ae75e2"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Load blacklist
        db.collection('blacklist').limit(10).get().then(snapshot => {
            const content = document.getElementById('blacklist-content');
            if (snapshot.empty) {
                content.innerHTML = '<div class="text-slate-500">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>';
                return;
            }
            content.innerHTML = snapshot.docs.map(doc => {
                const d = doc.data();
                return `<div class="flex justify-between py-1 border-b border-white/5">
                    <span>${d.name || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏'}</span>
                    <span class="text-red-400 text-[10px]">${d.reason || '-'}</span>
                </div>`;
            }).join('');
        }).catch(() => {
            document.getElementById('blacklist-content').innerHTML = '<div class="text-red-400">‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>';
        });

        function copyCmd(btn, text) {
            navigator.clipboard.writeText(text);
            const orig = btn.textContent;
            btn.textContent = '‚úÖ Copied!';
            setTimeout(() => btn.textContent = orig, 1000);
        }
    </script>
</body>

</html>